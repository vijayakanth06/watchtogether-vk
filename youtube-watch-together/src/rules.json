{
  "rules": {
    "rooms": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$roomCode": {
        "queue": {
          "$videoId": {
            ".validate": "newData.hasChildren(['title', 'url', 'thumbnail', 'addedBy', 'addedAt'])"
          }
        },
        "chat": {
          "$messageId": {
            ".validate": "newData.hasChildren(['text', 'user', 'timestamp'])"
          }
        },
        "state": {
          ".validate": "newData.hasChildren(['currentVideo', 'isPlaying', 'currentTime', 'lastUpdated'])"
        },
        "users": {
          "$userId": {
            ".validate": "newData.hasChildren(['name', 'isSpeaking', 'joinedAt'])"
          }
        }
      }
    },
    ".read": false,
    ".write": false
  }
}
